Bookstrap Changelog
==========

## Version 1.4.27
- Only underline inline links by default

## Version 1.4.26
- Fix for font sizing in nav elements

## Version 1.4.25
- Fix for article overflow bug in recent version of Chrome

## Version 1.4.24
- Added convenience css classes for templating
- Added very basic card css

## Version 1.4.23
- More logical collection sizing
- Default margins for tables and blockquotes

## Version 1.4.22
- Improve default margins on frames and figures
- Fix centering on layer nav buttons

## Version 1.4.21
- Move p min-height rule to content, not app css 

## Version 1.4.20
- Fixed auto positioning 

## Version 1.4.16
## Version 1.4.15
- Image float fix

## Version 1.4.14
- Improved alignment and wrap for frames and figures
- Better handling for captions on small screens

## Version 1.4.13
- Added CSS for flexbox-based collections

## Version 1.4.11
- Fixed typo in 1.4.10

## Version 1.4.10
- Video css added

## Version 1.4.9
- Added smooth scrolling to anchor

## Version 1.4.6
- Fix Layers with padding

## Version 1.4.5
- Revert figure min-height

## Version 1.4.4
- Add default height for <p>

## Version 1.4.3
- Square layer nav

## Version 1.4.2
- Remove unnecessary margin at bottom of galleries
- Resize banner automatically
- Default layers nav to sans-serif fonts
- Ensure figures never taller than viewport

## Version 1.4.1
- introduce necessary attribute and resize event for layers in singlepage mode

## Version 1.4.0
- Rewritten Layers Plugin.

## Version 1.3.46
- Amend default line styling

## Version 1.3.45
- Headers and footers should have same grid styling as sections
- Consistent padding on headers and footers
- Captions should have border-box box-sizing

## Version 1.3.44
- Added css for videos
- Remove spurious margin on positioned figcaptions 
- Add rule for nested figures
- Max out article width
- Ensure buttons are abs pos

## Version 1.3.43
- Added css for folds, vanishing cols, and block quotes

## Version 1.3.42
- added polyfill for requestAnimationFrame for Android compatibility

## Version 1.3.41
- Updated alignment classes for figures
- Revised dropcap css
- Updated zepto for IE10 compatibility

## Version 1.3.40
- Updated Gruntfile and Grunt dependencies
- Removed images (arrow-left, arrow-right, glyphicons)

## Version 1.3.39
- Reading order and keylines for phone

## Version 1.3.38
- Added additional navigation method to layers (tap left/right half)

## Version 1.3.37
- Fixed mask positioning for popovers

## Version 1.3.36
- Fixed page positioning in Firefox

## Version 1.3.34
- Fit to screen css for sections

## Version 1.3.33
- Popovers now emit show/hide events

## Version 1.3.32
- Minor styling updates

## Version 1.3.31
- Improved drawer ui feedback on touch events

## Version 1.3.30
- Center icons in buttons horizontally

## Version 1.3.29
- Support for omitting pages from the drawer

## Version 1.3.28
- Updated drawer thumbnails styling

## Version 1.3.27
- Added CSS namespacing for plugins
- Minor SectionTabs layout fixes (css is applied only when plugin javascript is loaded)

## Version 1.3.26
- ImageZoom now uses screen coordinates instead of offset and handles viewports bigger than visible screen estate
- Added CSS transitions to ImageZoom
- Fixed layout issues in Animations, ImageZoom and Scroller plugin

## Version 1.3.25
- Fixed page overflow bug
- Fixed layout glitch on animation restart
- Added LiveReload support for Grunt config

## Version 1.3.24
- Refactored SectionTabs Styles and behaviour
- Fixed Bookstrap.Core jump to last / first page functionality

## Version 1.3.23
- Flipcard CSS is back
- Animations in layers now will only start playing when the layer visible

## Version 1.3.22
- Fixed styling for bottom positioned drawer

## Version 1.3.21
- Added "clean" task to build script
- Added missing "copy assets" task to build script

## Version 1.3.20
- Fixed event binding bug in Bookstrap.Popover
- Speeded up the default page snap animation duration time
- Added safety check to page snap animation

## Version 1.3.19
- Core cross-browser compatibility (Firefox, IE9+)

## Version 1.3.18
- Update window title on page change

## Version 1.3.17
- Updated Replicas plugin, added drawer thumbnails plugin

## Version 1.3.16
- Include data attributes of nav items in pages collection

## Version 1.3.15
- Reorganised files generated in "dist"

## Version 1.3.14
- Fixed a bug with odd number of pages in Replicas plugin

## Version 1.3.13
- ImageZoom plugin updated to use new Mask plugin options style

## Version 1.3.12
- Updated link handling, fixed mailto: link bug.

## Version 1.3.11
- Fixes centered positioning of popovers on very long pages

## Version 1.3.10
- Fixes container positioning in single page mode
- Updates auto positioning behaviour to always keep popover in viewport

## Version 1.3.9
- Added "imageZoomEnabled" config option so we can easily disable zooming for an entire app.

## Version 1.3.8
- Styling tweaks for centered popups (do not enforce default width/height)
- Fixes regression in single page mode due to absence of viewport element

## Version 1.3.7
- Corrects popover positioning to compensate for scroll and viewport offset (persistent banner, etc.)

## Version 1.3.6
- Preserves default width/height of popovers if not user defined
- Correctly appends overlay mask to page

## Version 1.3.5
- Use absolute positioning for all popovers to correct layout bug with centered popovers

## Version 1.3.4
- single-page loader fixed. layers plugin was expecting bookstrap to be passed in constructor.
- Added Bookstrap.Replicas plugin

## Version 1.3.2
- Updates popover close icon namespacing

## Version 1.3.1
- New popover close icon

## Version 1.3.0
- Adds new popover plugin; existing plugin deprecated and moved to Bookstrap.Overlay

## Version 1.2.41
- Changed the nav drawer to open on click

## Version 1.2.40
- Close nav drawer on link click

## Version 1.2.39
- Layers are more responsive
- Removed unnecessary link handling code in Drawer

## Version 1.2.38
- Reverted back Popover changes
- Fixed bug with links turning to lower case
- CSS changes for layer nav, grid layout in layers, box sizing for frames.

## Version 1.2.35
- New plugin: Quiz
- Fixed a minor Drawer styling bug
- Popovers plugin now makes sure the popovers fit on screen

## Version 1.2.34
- Added active state to links in drawer, works for light and dark theme

## Version 1.2.33
- Added support for custom config in single page mode.
- ImageZoom re-enabled in single page mode

## Version 1.2.32
- Refactored Drawer & Mask plugins now use Hammer.js
- Added double tap to dismiss image enlarged with ImageZoom plugin
- Fixed a bug in Banner plugin

## Version 1.2.31
- CSS distribution includes bookstrap-app.css and bookstrap-content.css
- Started using LESS. Watch for changes using grunt watch
- Start server by using grunt server
- Fixed issues navigation related issues in Layers/Popover plugins

## Version 1.2.29
- Temporary bug workaround: remove body { overflow:hidden } since it causes scrollbars to be removed on all pages, even if they are not inside the Bookstrap app. Introduces bug with scrollbars in Bookstrap app (will be fixed soon).

## Version 1.2.28
- Fixed bug with basePath being added second time.

## Version 1.2.27
- Added Banner plugin to use one page as a banner displayed on top of the page. Config options: {showBanner: Boolean, bannerPageTitle: String}, by default uses page titled "Banner".

## Version 1.2.26
- Swipe plugin renamed to Bookstrap.Navigation.Swipe.js
- Added Navigation Manager. Enable it to automatically replace swipe navigation with buttons on non-touch devices. To always use swipe or buttons disable manager and add only the required plugin to list.
- Dark theme for drawer now optional (use class "book-inverse" to enable it).
- Added page Metadata plugin.

## Version 1.2.25
- Updated Drawer styling - dark theme, scrollable if ToC doesn't fit on screen

## Version 1.2.24
- Added Bookstrap.Navigation to handle all link clicks
- Added links page in tutorial
- rel attributes on links work for next, previous, first and last.
- Plugins can hook into any link click for a rel attribute by using bookstrap.navigation.setLinkHander(rel, callback)
- Removed Bookstrap.ImageCaption plugin since it is not used any more.
- Minor animation fix to prevent flickering on scrolling.

## Version 1.2.20
- ImageZoom bug fixed, plugin available again

## Version 1.2.19
- Added Bookstrap.Navigation.Buttons plugin (next/previous page buttons - to replace Swipe plugin for non-touch devices)
- Added Bookstrap.DeepLink plugin (enable to allow linking to specific pages in publication)

## Version 1.2.17
- Use Hammer for touch events instead of zepto touch module. Touchmove event is prevented on the body which prevents swiping in Pugpig. (https://github.com/madrobby/zepto/commit/d945672b89be7957b268e01df1dc6425de5932b1)

## Version 1.2.16
- Updates draw slide behaviour to push main content view

## Version 1.2.15
- ImageZoom plugin temporarily removed.

## Version 1.2.13
- Minor animation bug fix. Animation regions were not calculated correctly when returning to a page. Fixed by caching regions after first page load.

## Version 1.2.12
- Animation bug fixes

## Version 1.2.11
- Animation fixes for pop and dropin animations, added ImagesLoaded plugin.

## Version 1.2.10
- Updated Flipcard plugin - CSS moved to separate file

## Version 1.2.8
- Animation flicker bug fix

## Version 1.2.6
- Added ImageZoom plugin - double tapping on images that are displayed scaled down will enlarge them

## Version 1.2.4
- Updated Animation plugin so animations play when scrolled into view
- Improved default publication content

## Version 1.2.1
- No margins on full bleed images
- Split out plugin CSS into separate files. Grunt build script concatenates them together
- Added Bookstrap.SectionTabs.js plugin

## Version 1.2.0
- Added colour fade animation
- Added simple text effects
- figcaption tag used instead of "book-figure-content-item" class for figure overlays

## Version 1.1.51
- Updated media query breakpoints for FigureContentItems

## Version 1.1.50
- Support for new FigureContentItems

## Version 1.1.49
- Flipcard uses book-* style classes
- Layers plugin activates selected layer on init

## Version 1.1.44
- Added Flipcard plugin
- Updated Layer plugin so nav selected by being a child of LayerGroup.$el, not by data attribute selector

## Version 1.1.42
- Allow 'Fit to screen height' figures to work without positioned content. 

## Version 1.1.41
- ContentScaler expects child content to be absolutely positioned.
- Grunt used for build process.
- Dynamically read in plugins from index.html file when building distribution JS.
- Include version number and date in dist CSS and JS files

## Version 1.1.39
- Added Bookstrap.RememberLastPage plugin.
- Revert changes to ContentScaler in version 1.1.38
- Link handling fix
- External links open in external window by default

## Version 1.1.38
- ContentScaler layout logic is now in separate, framework-agnostic
  plugin.

## Version 1.1.37
- Modified how plugins are initialised. Plugins list is now in index.html.

## Version 1.1.36
- New plugin _ContentScaler_ provides support for scaled content on images.

## Version 1.1.35
- Fix glitches when scrolling page with multiple touches

## Version 1.1.34
- Ignore extraneous touches when swiping between pages.

## Version 1.1.32
- Drawer now uses position: fixed

## Version 1.1.32
- Set body and height elements to 100% 
  (fixes bug where a closed horizontal drawer can be pulled up into the viewport)

## Version 1.1.31
- Swipe direction locking fix
- Swiping on last layer will swipe page.

## Version 1.1.30
- Prevent horiztonal scrolling in columns when pages have full bleed images

## Version 1.1.29
 - Drawer populates table of contents automatically from nav.html
 - BookstrapCore: provides a title property, populated by the `<title>` element in nav.html

## Version 1.1.28
- Don't set overflow-y:scroll on book-page element (it is already set on
  the column). Fixes an issue with page swiping.

## Version 1.1.27
- Only set -webkit-overflow-scrolling:touch on popovers when they are
  visible, for better performance on Retina display devices.
- Swipe works on layers

## Version 1.1.24
- Image optimiser enhancements. Don't replace images if file size is larger, skip images that are not visible on page load
- Drawer can be positioned at the bottom of the page

## Version 1.1.20
- Fix regression: full bleed images do not appear as full bleed. 

## Version 1.1.19
- CSS fix for animations. Prevents horizontal scrollbar from being visible.

## Version 1.1.17
- Fix Popovers not showing when the same id is used on adjacent pages

## Version 1.1.16
- Added LazyLoadBelowFold plugin to improve swipe performance. Content with the class "book-row-below-fold" is hidden by default and displayed only when the user begins to scroll down a page.

## Version 1.1.13
- Extract keyframe animations into animation.css

## Version 1.1.12
- Fixed: Scroll position is saved when it shouldnt be
- Fixed 2 link navigation bugs
- Fixed bug in getNeighborOffset() that caused page offset to be incorrectly calculated
- Improved how we prevent user input whilst scrolling is happening
- Moved touch listeners from individual page containers to the bookstrap viewport

## Version 1.1.11
- Remove unused Padify site CSS from bookstrap.css

## Version 1.1.6
- External links (beginning with http) touch/click events should not be cancelled.

## Version 1.1.5

## Version 1.1.4

## Version 1.1.3
- Accept a global BASE_PATH variable for referencing pages on remote
  server.
- Fix issue with handling links with content inside.


## Version 1.1.2
- Add script for optiimising images.


## Version 1.1.1
- Added initial implementation of Drawer plugin
- Mask plugin accepts a name to include in the mask element class attribute
